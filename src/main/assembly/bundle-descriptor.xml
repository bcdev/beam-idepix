<bundleDescriptor>
    <bundleName>beam-idepix-cc</bundleName>
    <bundleVersion>${pom.version}</bundleVersion>

    <processorDescriptors>

        <processorDescriptor>
            <executableName>Idepix.Water</executableName>
            <processorName>Idepix (Water Pixel Classification)</processorName>
            <processorVersion>${pom.version}</processorVersion>
            <defaultParameters><![CDATA[

     <!-- CHANGES to previous Idepix version: -->
     <!--     - Major cleanup for first public release in BEAM 5, i.e. experimental user options were removed. -->
     <!-- This version was provided by O.Danne -->
     <!-- **************************** -->

    <parameters>
    <!-- ***********Idepix CC Parameters start here*********** -->

     <!-- Whether to additionally write TOA Radiances to the target product -->
     <ccOutputRadiance>true</ccOutputRadiance>

     <!-- Whether to additionally write TOA Reflectances to the target product -->
     <ccOutputRad2Refl>false</ccOutputRad2Refl>

     <!-- Whether to additionally write the Gas Absorption Correction Flag to the target product -->
     <ccOutputGaseous>false</ccOutputGaseous>

     <!-- Whether to additionally write Rayleigh Corrected Reflectances to the target product -->
     <ccOutputRayleigh>false</ccOutputRayleigh>

     <!-- Whether to additionally write Spectral Unmixing Abundance Bands to the target product -->
     <ccOutputSma>false</ccOutputSma>

     <!-- Whether to additionally write the Cloud Probability Feature value to the target product -->
     <ccOutputCloudProbabilityFeatureValue>false</ccOutputCloudProbabilityFeatureValue>

     <!-- Whether to additionally write the sea ice climatology maximum value to the target product -->
     <ccOutputSeaIceClimatologyValue>false</ccOutputSeaIceClimatologyValue>

     <!-- Width of cloud buffer (# of pixels) -->
     <ccCloudBufferWidth>2</ccCloudBufferWidth>

     <!-- Cloud screening 'ambiguous' threshold -->
     <ccCloudScreeningAmbiguous>1.8</ccCloudScreeningAmbiguous>

     <!-- Cloud screening 'sure' threshold -->
     <ccCloudScreeningSure>1.8</ccCloudScreeningSure>

</parameters>]]></defaultParameters>
            <outputFormats>Multi-GeoTIFF,BEAM-DIMAP,NetCDF</outputFormats>
            <descriptionHtml>
                <![CDATA[<p>Performs Idepix pixel identification with CoastColour algorithm.</p>]]>
            </descriptionHtml>
            <inputProductTypes>MERIS_L1B</inputProductTypes>
            <outputProductType>IDEPIX_L2</outputProductType>
            <validMaskExpression>!l1b_flags.INVALID</validMaskExpression>

            <jobConfig>
                <jobParameter>
                    <name>calvalus.hadoop.mapred.child.java.opts</name>
                    <value>-Xmx1500M</value>
                </jobParameter>

                <jobParameter>
                    <name>calvalus.system.beam.envisat.usePixelGeoCoding</name>
                    <value>true</value>
                </jobParameter>
                <jobParameter>
                    <name>calvalus.system.beam.pixelGeoCoding.fractionAccuracy</name>
                    <value>true</value>
                </jobParameter>

                <jobParameter>
                    <name>calvalus.output.compression</name>
                    <value>NONE</value>
                </jobParameter>
            </jobConfig>

            <outputVariables>
                <outputVariable>
                    <name>rho_toa_1</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>rho_toa_2</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>rho_toa_3</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>rho_toa_4</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>rho_toa_5</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>rho_toa_6</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>rho_toa_7</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>rho_toa_8</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>rho_toa_9</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>rho_toa_10</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>rho_toa_11</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>rho_toa_12</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>rho_toa_13</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>rho_toa_14</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>
                <outputVariable>
                    <name>rho_toa_15</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>

                <outputVariable>
                    <name>cloud_probability_value</name>
                    <defaultAggregator>AVG</defaultAggregator>
                    <defaultWeightCoeff>1.0</defaultWeightCoeff>
                </outputVariable>

                <outputVariable>
                    <name>l1_flags</name>
                </outputVariable>
                <outputVariable>
                    <name>cloud_classif_flags</name>
                </outputVariable>
            </outputVariables>

        </processorDescriptor>

    </processorDescriptors>

</bundleDescriptor>